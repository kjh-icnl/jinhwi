<head>
  <style>
    #mac_set_body{
      magrin-bottom: 10vh;
    }
    #code-word{
      font-size: 13pt;
      padding: 2px 2px 2px 2px;
      background: rgb(227, 230, 232);
      border-radius: 3px;
    }
    #code-line{
      text-align: left;
      background-color: rgb(230, 230, 230);
      border-top-left-radius: 5px;
      border-top-right-radius: 5px;
      border-bottom-left-radius: 5px;
      border-bottom-right-radius: 5px;

      padding-top: 5px;
      padding-bottom: 5px;
      padding-left: 30px;
    }
  </style>
</head>

<h1>MacOS C/C++ 세팅하기</h1>
<div style="color: red;">
  ※ 현재 이 페이지는 긴급하게 작성되었으므로 몇 가지 디자인 오류가 있을 수 있습니다.
  <br> 추후 개선할 예정이니 여러분들의 너그러운 양해 부탁드립니다. 2024.02.15 ※
</div>

<body>
  <div id="mac_set_body">
    <h2>0. Preliminary Knowledge</h2>
    <div style="width=80vw; font-size:13pt">
      MacOS에서 C/C++을 실행하는 가장 간단한 방법은 Visual Studio(비주얼 스튜디오, 이하 VS)를 설치해서 사용하는 방법이다.
      <br> 하지만, VS에서 C/C++을 사용하기에는 게임 개발과 같은 협업이 굉장히 중요하고, VS의 부가 기능들을 필수적으로 사용하는 경우를 제외하고는 대부분의 경우(교육/학습/에뮬레이터)에는 GNU에서 개발된 GCC/G++를 사용하는 것이 좋다.
      <br> 우리는 MacOS에서의 사용을 위해 Terminal(터미널)이라는 것을 알아야 한다.
      <br> Terminal은 윈도우의 cmd(혹은 powershell)과 같은 역할을 하는데 명령어를 입력하면 명령어에 따라 프로세스가 동작한다.
      <br> 터미널은 <code id="code-word"> Lunchpad &lt 기타 &lt 터미널</code>에서 실행시킬 수 있다. 또는 <code id="code-word">⌘ + space</code>로 Spotlight(스포트라이트)를 실행시켜 터미널을 검색해 실행시킬 수 있다.
      <br> 실행 후, 터미널 아이콘이 화면의 사이드바에 뜨는데 이 아이콘을 가장 왼쪽 섹션으로 옮기면 터미널이 사이드바에 고정될 것이다. 터미널을 종료시켜도 사이드바에서 아이콘이 사라지지 않는다.
      <br> 추가적으로 기본 터미널 보다 다른 터미널을 선호한다면, iTerm을 선택적으로 다운로드 받을 수도 있다.
      <br> 경로에 대한 설명은 추후 설명하도록 하겠다...!
    </div>

    <h2>1. Prerequisites</h2>
    <div style="width=80vw; font-size:13pt">
      사전 요구 프로그램 설치하기에 앞서, 본인의 프로그램 상태를 확인해보자.
      <pre id="code-line"><code style="white-space: nowrap;" ><b style="color: black">g++ --version</b></code></pre>
      위의 명령어 결과가 아래와 같다면, 3번으로 가자.
      <pre id="code-line"><code style="white-space: nowrap;"><b style="color: black">g++ (Homebrew GCC 13.2.0) 13.2.0</b><b style="color: black"><br>Copyright (C) 2023 Free Software Foundation, Inc.</b><b style="color: black"><br>This is free software; see the souce... (생략)</b></code></pre>

      MacOS에서 여러 프레임워크, 어플리케이션 등을 터미널을 통해 다운로드 받기 위해서는 <code id="code-word">Homebrew</code>라고 하는 프로그램이 필요하다.
      <br> 아래의 명령어를 터미널에 입력해 설치해주자.

      <pre id="code-line"><code style="white-space: nowrap;" ><b style="color: black">/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"</b></code></pre>

      중간에 Password 치라고 나올텐데, 당황하지 말고 본인의 MacOS 비밀번호를 타이핑하고 엔터를 눌러주자.
      <br> 이렇게 하면, 사전 설치 프로그램 설치는 완료했다.
      <br> Visual Studio Code 같은 경우는 직접 사이트 들어가서 설치하자.

      <br> 또한, xcode commandline도 Terminal을 설치해주어야 한다. 이 작업을 전에 한 적이 있다면(다른 프로그램 설치를 위해서라도), 생략하도록 한다.
      <pre id="code-line"><code style="white-space: nowrap;" ><b style="color: black">xcode-select --install</b></code></pre>
    </div>


    <h2> 2. Installation</h2>
    <div style="width=80vw; font-size:13pt">
      아래의 명령어는 Homebrew를 통해 gcc/g++ 설치를 진행해준다.
      <pre id="code-line"><code style="white-space: nowrap;" ><b style="color: black">brew install gcc</b></code></pre>

      다시 한 번 설치 상태를 확인해보자.
      <pre id="code-line"><code style="white-space: nowrap;" ><b style="color: black">g++ --version</b></code></pre>
      위의 명령어 결과가 아래와 같지 않을 것이다.
      <pre id="code-line"><code style="white-space: nowrap;"><b style="color: black">g++ (Homebrew GCC 13.2.0) 13.2.0</b><b style="color: black"><br>Copyright (C) 2023 Free Software Foundation, Inc.</b><b style="color: black"><br>This is free software; see the souce... (생략)</b></code></pre>

      그렇다면, 아래의 명령어를 실행해본다. <code id="code-word">[버전]</code>의 의미는 gcc/g++ 버전 중 가장 큰 범주의 버전을 의미한다. 예를 들어 GCC 13.2.0이라면 13을 의미한다. 이 버전은 <code id="code-word">brew install gcc</code>의 설치 히스토리(터미널 상에 떠있을 것임)를 보면 된다.
      <pre id="code-line"><code style="white-space: nowrap;" ><b style="color: black">g++-[버전] --version</b></code></pre>
      위의 명령어 결과가 아래와 같을 것이다.
      <pre id="code-line"><code style="white-space: nowrap;"><b style="color: black">g++ (Homebrew GCC 13.2.0) 13.2.0</b><b style="color: black"><br>Copyright (C) 2023 Free Software Foundation, Inc.</b><b style="color: black"><br>This is free software; see the souce... (생략)</b></code></pre>

      그렇다면 잘 설치가 된 것이다.
    </div>

    <h2> 3. Symbolic Link</h2>
    <div style="width=80vw; font-size:13pt">
      이 과정은 귀찮은 <code id="code-word">g++-[버전]</code> 작성을 덜어주는 작업이다.
      <br> 터미널이든 iTerm이든 기본적으로 명령어 수행을 위해 통과 및 검색하는 경로는 <code id="code-word">/opt/homebrew/bin</code>이다(추가로 몇 개 더 있음).
      <br> 하지만, 본인이 이 경로에 gcc/g++ 명령어를 추가하고 싶지 않을 수도 있다.
      <br> 다른 경로에 추가하고 싶다면, 더 공부하고 추가하도록 하자.
      <br> 일단, 이 글을 읽는다는 것자체가 컴퓨터에 대해 잘 모른다는 의미이니 이상한 쌩쇼하지 말고 이 메뉴얼을 잘 따르자.

      <br> 아래의 명령어를 실행해보자.
      <pre id="code-line"><code style="white-space: nowrap;"><b style="color: black">cd /opt/homebrew/bin</b><b style="color: black"><br>ls</b></code></pre>

      실행 결과 이상한 것들이 출력이 엄청나게 될 것이다.
      <br> 여기서 스크롤해가며 <code id="code-word">g++-[버전]</code>이 있는지 확인해보자.
      <br> 있다면 다음 Step인 명령어를 실행하고, 없다면 유튜브 채널에 댓글 남겨주시기 바랍니다.

      <pre id="code-line"><code style="white-space: nowrap;"><b style="color: black">sudo ln -s g++-[버전] g++</b><b style="color: black"><br>ls</b></code></pre>
      비밀번호는 알아서 입력하면 된다.

      <br> 여기까지 했으면 터미널 창을 전부 닫아주고 MacOS도 로그아웃 후에 다시 로그인해준다.
      <br> 본인이 로그아웃이 뭔지 모르겠다면, 그냥 MacOS 전원을 껐다가 다시 켜주면 된다.
    </div>

    <h2> 4. Test</h2>
    <div style="width=80vw; font-size:13pt">
      다시 터미널을 켜준다.
      <br> 다시 아래의 명령어를 실행해보면, 이제는 Homebrew GCC가 잘 뜰 것이다.
      <pre id="code-line"><code style="white-space: nowrap;" ><b style="color: black">g++ --version</b></code></pre>
      <pre id="code-line"><code style="white-space: nowrap;"><b style="color: black">g++ (Homebrew GCC 13.2.0) 13.2.0</b><b style="color: black"><br>Copyright (C) 2023 Free Software Foundation, Inc.</b><b style="color: black"><br>This is free software; see the souce... (생략)</b></code></pre>

      C++ 코드를 작성하고 잘 동작하는지 보자.
      <pre id="code-line"><code style="white-space: nowrap;" ><b style="color: black">code /Users/[본인이 코드를 작성할 경로]</b></code></pre>

      Visual Studio Code에서 C++ 파일을 <code id="code-word">main.cpp</code>이름으로 하나 만든다.
      <br> 코드 들여쓰기는 안 했으니, 복붙하고 알아서 보기 좋게 들여쓰기를 한다. (안해도 필요없음)
      <pre id="code-line"><code style="white-space: nowrap;"><b style="color: black">#include &ltiostream&gt</b><b style="color: black"><br>int main(){</b><b style="color: black"><br>std::cout &lt&lt "Hello, World!" &lt&lt std::endl;</b><b style="color: black"><br>return 0;</b><b style="color: black"><br>}</b></code></pre>

      아래의 명령어를 실행시켜서 잘 동작하는지 보자.
      <pre id="code-line"><code style="white-space: nowrap;"><b style="color: black">g++ -o runfile main.cpp -lm -ld_classic</b><b style="color: black"><br>./runfile</b></code></pre>

      <code id="code-word">Hello, World!</code>가 잘 출력되면 성공이다.
      <br> 끝!
    </div>

    <h2> 5. Addition (추가사항!!! 필독!!!)</h2>
    <div style="width=80vw; font-size:13pt">
      저의 유튜브 영상을 본다면, 아래와 같은 명령어로 컴파일을 실행했을 것입니다.
      <pre id="code-line"><code style="white-space: nowrap;"><b style="color: black">g++ -o runfile main.cpp -lm</b></code></pre>

      여기서 <code id="code-word">-lm</code>은 수학 라이브러리인데, 코딩을 하면서 수학을 안 쓰는 일은 거의 없기 때문에 항상 적으면서 컴파일해주는 습관을 들이면 좋습니다.
      <br> 하지만 이제부터는 Compile 명령어를 아래와 같이 다르게 작성해야 합니다.
      <pre id="code-line"><code style="white-space: nowrap;"><b style="color: black">g++ -o runfile main.cpp -lm -ld_classic</b></code></pre>

      그리고 <code id="code-word">-ld_classic</code>은 MacOS 버전과 GNU G++ 사이에서 호환성 문제로 인해 발생하는 에러를 없애줍니다.
      <br>이 옵션이 없다면, 계속해서 Compile Error가 납니다.
      <br>이와 관련해서 Apple측에서 조만간 해결하겠다고는 하는데 언제 수정이 될지 잘 모르겠습니다.
    </div>
  </div>
</body>
